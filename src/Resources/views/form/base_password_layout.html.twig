{%- block widget_attributes -%}
    aria-describedby="eyes-{{ id }}" id="{{ id }}" name="{{ full_name }}"
    {%- if disabled %} disabled="disabled"{% endif -%}
    {%- if required %} required="required"{% endif -%}
    {{ block('attributes') }}
{%- endblock widget_attributes -%}

{%- block password_css -%}
    <link rel="stylesheet" href="{{ asset('bundles/user/css/bootstrap-icons.css')}}" />
{%- endblock password_css -%}

{%- block password_javascript -%}
    <script>
        const togglePassword = document.querySelector("#eye-icon-{{ id }}");
        const password = document.querySelector("#{{ id }}");

        togglePassword.addEventListener("click", function () {
            const type = password.getAttribute("type") === "password" ? "text" : "password";
            password.setAttribute("type", type);
            
            // toggle the icon
            this.classList.toggle("bi-eye");
        });

        {#const form = document.querySelector("form");
        form.addEventListener('submit', function (e) {
            e.preventDefault();
        });#}
    </script>
{%- endblock password_javascript -%}